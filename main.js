(()=>{"use strict";var e={inputSelector:".form__input",submitButtonSelector:".form__save-button",inactiveButtonClass:"form__save-button_disabled",inputErrorClass:"form__input_type_error",errorClass:"form__error_visible"};function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._inputSelector=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._inactiveButtonClass=t.inactiveButtonClass,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass,this._form=n}var r,o;return r=e,(o=[{key:"_showInputError",value:function(e){var t=this._form.querySelector("#".concat(e.id,"-error"));e.classList.add(this._inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._errorClass)}},{key:"_hideInputError",value:function(e){var t=this._form.querySelector("#".concat(e.id,"-error"));e.classList.remove(this._inputErrorClass),t.textContent="",t.classList.remove(this._errorClass)}},{key:"_checkInputValidity",value:function(e){if(!e.validity.valid)return this._showInputError(e);this._hideInputError(e)}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return 1==!e.validity.valid}))}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput(this._inputList)?(this._buttonEl.classList.add(this._inactiveButtonClass),this._buttonEl.disabled=!0):(this._buttonEl.classList.remove(this._inactiveButtonClass),this._buttonEl.disabled=!1)}},{key:"_setEventListeners",value:function(){var e,n=this;this._inputList=function(e){if(Array.isArray(e))return t(e)}(e=this._form.querySelectorAll(this._inputSelector))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),this._buttonEl=this._form.querySelector(this._submitButtonSelector),this._inputList.some((function(e){e.addEventListener("input",(function(t){n._checkInputValidity(e),n._toggleButtonState()}))}))}},{key:"enableValidation",value:function(){this._form.addEventListener("submit",(function(e){e.preventDefault()})),this._setEventListeners()}},{key:"resetForm",value:function(){this._form.reset(),this._toggleButtonState()}}])&&n(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),e}();function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const i=function(){function e(t,n){var r=t.data,o=t.handleCardClick,i=t.handleDeleteClick,a=t.handleLike,u=t.userId;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=r.name,this._link=r.link,this._likes=r.likes,this._authUserId=r.owner._id,this._userId=u,this._cardSelector=n,this._handleCardClick=o,this._handleDeleteClick=i,this._handleLike=a}var t,n;return t=e,(n=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0)}},{key:"_isLiked",value:function(){return this._likeButton.classList.contains("card__like-button_type_active")}},{key:"_updateLikes",value:function(e){this._likes=e.likes,this._renderLikes()}},{key:"_renderLikes",value:function(){var e=this;this._likeCounter.textContent=this._likes.length,this._likes.filter((function(t){return t._id===e._userId})).length>0?this._likeButton.classList.add("card__like-button_type_active"):this._likeButton.classList.remove("card__like-button_type_active")}},{key:"_remove",value:function(){this._element.remove(),this._element=null}},{key:"_setDeleteButtonVisibility",value:function(){this._userId===this._authUserId?this._deleteButton.style.vilibility="visible":this._deleteButton.style.visibility="hidden"}},{key:"_setEventListeners",value:function(){var e=this;this._likeButton=this._element.querySelector(".card__like-button"),this._likeButton.addEventListener("click",(function(){e._handleLike()})),this._element.querySelector(".card__image").addEventListener("click",(function(){e._handleCardClick({name:e._name,link:e._link})})),this._deleteButton=this._element.querySelector(".card__delete-button"),this._deleteButton.addEventListener("click",(function(){e._handleDeleteClick()}))}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._deleteButton=this._element.querySelector(".card__delete-button"),this._likeCounter=this._element.querySelector(".card__like-button-counter"),this._setEventListeners(),this._renderLikes(),this._setDeleteButtonVisibility(),this._element.querySelector(".card__image").style.backgroundImage="url(".concat(this._link,")"),this._element.querySelector(".card__title").textContent=this._name,this._element}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=r,this._element=document.querySelector(n)}var t,n;return t=e,(n=[{key:"addItem",value:function(e){this._element.prepend(e)}},{key:"renderItems",value:function(e){e.forEach(this._renderer)}}])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popupElement=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"_handleEscClose",value:function(e){e.preventDefault(),"Escape"===e.key&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._popupElement.addEventListener("mousedown",(function(t){(t.target.classList.contains("modal")||t.target.classList.contains("modal__close-button"))&&e.close()}))}},{key:"open",value:function(){document.addEventListener("keyup",this._handleEscClose),this._popupElement.classList.add("modal_is-open")}},{key:"close",value:function(){document.removeEventListener("keyup",this._handleEscClose),this._popupElement.classList.remove("modal_is-open")}}])&&c(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(){return d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=h(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},d.apply(this,arguments)}function h(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_(e)););return e}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function y(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&p(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=_(r);if(o){var n=_(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return y(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._imageElement=t._popupElement.querySelector(".modal__image"),t._imageCaption=t._popupElement.querySelector(".modal__title"),t}return t=a,(n=[{key:"open",value:function(e){d(_(a.prototype),"open",this).call(this),this._imageElement.src=e.link,this._imageElement.alt="Image of ".concat(e.link),this._imageCaption.textContent=e.name}}])&&f(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(l);function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var b=function(){function e(t){var n=t.nameSelector,r=t.aboutSelector,o=t.avatarSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=document.querySelector(n),this._about=document.querySelector(r),this._avatar=document.querySelector(o)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._name.textContent,about:this._about.textContent}}},{key:"getUserId",value:function(){return this._id}},{key:"setUserInfo",value:function(e){var t=e.name,n=e.about,r=e._id;this._name.textContent=t,this._about.textContent=n,this._id=r}},{key:"setUserAvatar",value:function(e){var t=e.avatar;this._avatar.src=t}}])&&v(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(){return E="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=w(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},E.apply(this,arguments)}function w(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=L(e)););return e}function O(e,t){return O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},O(e,t)}function C(e,t){if(t&&("object"===S(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function L(e){return L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},L(e)}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&O(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=L(r);if(o){var n=L(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return C(this,e)});function a(e){var t,n,r=e.selector,o=e.handleFormSubmission;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,r))._handleFormSubmission=o,t._form=t._popupElement.querySelector(".form"),t._inputList=function(e){if(Array.isArray(e))return k(e)}(n=t._popupElement.querySelectorAll(".form__input"))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(e,t):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),t._submitButton=t._form.querySelector(".form__save-button"),t}return t=a,(n=[{key:"close",value:function(){E(L(a.prototype),"close",this).call(this),this._form.reset()}},{key:"_getInputValues",value:function(){var e={};return this._inputList.forEach((function(t){e[t.name]=t.value})),e}},{key:"renderSaving",value:function(e){this._submitButton.textContent=e?"Saving...":"Save"}},{key:"setEventListeners",value:function(){var e=this;E(L(a.prototype),"setEventListeners",this).call(this),this._popupElement.addEventListener("submit",(function(t){t.preventDefault(),e.renderSaving(!0),e._handleFormSubmission(e._getInputValues())}))}}])&&g(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(l);function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(){return q="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=R(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},q.apply(this,arguments)}function R(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=T(e)););return e}function B(e,t){return B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},B(e,t)}function U(e,t){if(t&&("object"===P(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function T(e){return T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},T(e)}var A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&B(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=T(r);if(o){var n=T(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return U(this,e)});function a(e){var t,n=e.handleFormSubmission,r=e.selector;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,r))._handleFormSubmission=n,t._formElement=t._popupElement.querySelector(".form"),t}return t=a,(n=[{key:"open",value:function(e,t){q(T(a.prototype),"open",this).call(this),this._cardId=e,this._cardEl=t}},{key:"setEventListeners",value:function(){var e=this;q(T(a.prototype),"setEventListeners",this).call(this),this._formElement.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmission(e._cardId,e._cardEl)}))}}])&&I(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(l);function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var D=function(){function e(t){var n=t.baseUrl,r=t.headers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._baseUrl=n,this._headers=r}var t,n;return t=e,(n=[{key:"_handleServerResponse",value:function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}},{key:"getUserInfo",value:function(){return fetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers}).then(this._handleServerResponse)}},{key:"setUserInfo",value:function(e){var t=e.name,n=e.about;return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:t,about:n})}).then(this._handleServerResponse)}},{key:"updateProfilePicture",value:function(e){var t=e.avatar;return fetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:t})}).then(this._handleServerResponse)}},{key:"getInitialCards",value:function(){return fetch("".concat(this._baseUrl,"/cards"),{headers:this._headers}).then(this._handleServerResponse)}},{key:"addCard",value:function(e){var t=e.name,n=e.link;return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:t,link:n})}).then(this._handleServerResponse)}},{key:"removeCard",value:function(e){return fetch("".concat(this._baseUrl,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then(this._handleServerResponse)}},{key:"addLike",value:function(e){return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:"PUT",headers:this._headers}).then(this._handleServerResponse)}},{key:"removeLike",value:function(e){return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:"DELETE",headers:this._headers}).then(this._handleServerResponse)}}])&&x(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var V=document.querySelector(".modal_type_add"),M=document.querySelector(".modal_type_edit"),N=document.querySelector(".modal_type_avatar-edit"),J=M.querySelector(".form"),$=V.querySelector(".form"),H=M.querySelector(".form"),z=N.querySelector(".form"),G=document.querySelector(".profile__edit-button"),K=M.querySelector(".modal__close-button"),Q=document.querySelector(".profile__avatar-button"),W=N.querySelector(".modal__close-button"),X=document.querySelector(".profile__name"),Y=document.querySelector(".profile__about"),Z=document.querySelector(".profile__add-button"),ee=V.querySelector(".modal__close-button"),te=document.querySelector(".modal__close-button"),ne=J.querySelector(".form__input_type_name"),re=J.querySelector(".form__input_type_about"),oe=new D({baseUrl:"https://around.nomoreparties.co/v1/group-12",headers:{authorization:"4921d172-e47d-477d-bceb-cfdae220d52e","Content-Type":"application/json"}}),ie=new b({nameSelector:".profile__name",aboutSelector:".profile__about",avatarSelector:".profile__image"}),ae=new u({renderer:function(e){ae.addItem(ue(e))}},".cards");function ue(e){var t=new i({data:e,handleCardClick:function(e){return ce.open(e)},userId:ie.getUserId(),handleDeleteClick:function(){fe.open(e._id,t)},handleLike:function(){t._isLiked()?oe.removeLike(e._id).then((function(e){return t._updateLikes(e)})).catch((function(e){return console.error("".concat(e))})):oe.addLike(e._id).then((function(e){return t._updateLikes(e)})).catch((function(e){return console.error("".concat(e))}))}},"#cardTemplate");return t.generateCard()}Promise.all([oe.getUserInfo(),oe.getInitialCards()]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?F(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1],a=o.name,u=o.about,c=o.avatar,l=o._id;ie.setUserInfo({name:a,about:u,_id:l}),ie.setUserAvatar({avatar:c}),ae.renderItems(i)})).catch((function(e){return console.error("".concat(e))}));var ce=new m(".modal_type_preview"),le=new j({selector:".modal_type_edit",handleFormSubmission:function(e){oe.setUserInfo(e).then((function(e){ie.setUserInfo({name:e.name,about:e.about,id:e._id}),le.close()})).catch((function(e){console.error("".concat(e))})).finally((function(){le.renderSaving(!1)}))}}),se=new j({selector:".modal_type_add",handleFormSubmission:function(e){oe.addCard(e).then((function(e){ae.addItem(ue(e))})).then((function(){se.close()})).catch((function(e){console.error("".concat(e))})).finally((function(){se.renderSaving(!1)}))}}),fe=new A({selector:".modal_type_delete-confirmation",handleFormSubmission:function(e,t){oe.removeCard(e).then((function(){t._remove(),fe.close()})).catch((function(e){return console.error("".concat(e))})).finally((function(){}))}}),de=new j({selector:".modal_type_avatar-edit",handleFormSubmission:function(e){oe.updateProfilePicture(e).then((function(e){ie.setUserAvatar({avatar:e.avatar}),de.close()})).catch((function(e){console.error("".concat(e))})).finally((function(){de.renderSaving(!1)}))}}),he=new r(e,$);he.enableValidation(),new r(e,H).enableValidation();var pe=new r(e,z);pe.enableValidation(),ce.setEventListeners(),le.setEventListeners(),se.setEventListeners(),de.setEventListeners(),fe.setEventListeners(),G.addEventListener("click",(function(){ne.value=X.textContent,re.value=Y.textContent,le.open()})),K.addEventListener("click",(function(){return le.close()})),Q.addEventListener("click",(function(){pe.resetForm(),de.open()})),W.addEventListener("click",(function(){de.close()})),Z.addEventListener("click",(function(){he.resetForm(),se.open()})),ee.addEventListener("click",(function(){return se.close()})),te.addEventListener("click",(function(){return ce.close()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVFqRSxFQUFLaUUsU0FFZnlGLEdBQVl4RyxXQUdib0YsT0FBTSxTQUFDQyxHQUNOQyxRQUFRQyxNQUFSLFVBQWlCRixPQUVsQmMsU0FBUSxXQUNQSyxHQUFZL0UsY0FBYSxTQUszQmlGLEdBQW1CLElBQUlsTSxFQUFjTixFQUFvQnNKLEdBQy9Ea0QsR0FBaUJDLG1CQUVTLElBQUluTSxFQUFjTixFQUFvQnVKLEdBQzlDa0QsbUJBRWxCLElBQU1DLEdBQXNCLElBQUlwTSxFQUM5Qk4sRUFDQXdKLEdBRUZrRCxHQUFvQkQsbUJBR3BCOUIsR0FBaUJnQyxvQkFFakJYLEdBQVVXLG9CQUNWVCxHQUFTUyxvQkFDVEwsR0FBWUssb0JBQ1o3QixHQUFZNkIsb0JBR1psRCxFQUFrQnRILGlCQUFpQixTQUFTLFdBakwxQytILEdBQVU5QyxNQUFReUMsRUFBWXZJLFlBQzlCNkksR0FBVy9DLE1BQVEwQyxFQUFheEksWUFrTGhDMEssR0FBVXBCLFVBRVpsQixFQUF1QnZILGlCQUFpQixTQUFTLGtCQUFNNkosR0FBVWxHLFdBRWpFNkQsRUFBaUJ4SCxpQkFBaUIsU0FBUyxXQUN6Q3VLLEdBQW9CRSxZQUNwQk4sR0FBWTFCLFVBRWRoQixFQUFzQnpILGlCQUFpQixTQUFTLFdBQzlDbUssR0FBWXhHLFdBR2RpRSxFQUFjNUgsaUJBQWlCLFNBQVMsV0FDdENxSyxHQUFpQkksWUFDakJWLEdBQVN0QixVQUVYWixHQUFvQjdILGlCQUFpQixTQUFTLGtCQUFNK0osR0FBU3BHLFdBRTdEbUUsR0FBd0I5SCxpQkFBaUIsU0FBUyxrQkFDaER3SSxHQUFpQjdFLFkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcm9qZWN0LTgvLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3Byb2plY3QtOC8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC04Ly4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LTgvLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3Byb2plY3QtOC8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3Byb2plY3QtOC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL3Byb2plY3QtOC8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3Byb2plY3QtOC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC04Ly4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRGVsZXRlLmpzIiwid2VicGFjazovL3Byb2plY3QtOC8uL3NyYy91dGlscy9BcGkuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC04Ly4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvbnN0YW50c1xuZXhwb3J0IGNvbnN0IHZhbGlkYXRpb25TZXR0aW5ncyA9IHtcbiAgaW5wdXRTZWxlY3RvcjogXCIuZm9ybV9faW5wdXRcIixcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLmZvcm1fX3NhdmUtYnV0dG9uXCIsXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwiZm9ybV9fc2F2ZS1idXR0b25fZGlzYWJsZWRcIixcbiAgaW5wdXRFcnJvckNsYXNzOiBcImZvcm1fX2lucHV0X3R5cGVfZXJyb3JcIixcbiAgZXJyb3JDbGFzczogXCJmb3JtX19lcnJvcl92aXNpYmxlXCIsXG59O1xuXG4vLyBTZWxlY3RvcnNcbmV4cG9ydCBjb25zdCBzZWxlY3RvcnMgPSB7XG4gIGNhcmRTZWN0aW9uOiBcIi5jYXJkc1wiLFxuICBjYXJkVGVtcGxhdGU6IFwiI2NhcmRUZW1wbGF0ZVwiLFxuICBwcmV2aWV3UG9wdXA6IFwiLm1vZGFsX3R5cGVfcHJldmlld1wiLFxuICBwcm9maWxlTW9kYWxTZWxlY3RvcjogXCIubW9kYWxfdHlwZV9lZGl0XCIsXG4gIGFkZE1vZGFsU2VsZWN0b3I6IFwiLm1vZGFsX3R5cGVfYWRkXCIsXG4gIGRlbGV0ZVBvcHVwU2VsZWN0b3I6IFwiLm1vZGFsX3R5cGVfZGVsZXRlLWNvbmZpcm1hdGlvblwiLFxuICBhdmF0YXJTZWxlY3RvcjogXCIubW9kYWxfdHlwZV9hdmF0YXItZWRpdFwiLFxufTtcbiIsImNsYXNzIEZvcm1WYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3RvcihzZXR0aW5ncywgZm9ybUVsZW1lbnQpIHtcbiAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gc2V0dGluZ3MuaW5wdXRTZWxlY3RvcjtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IHNldHRpbmdzLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBzZXR0aW5ncy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xuICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IHNldHRpbmdzLmlucHV0RXJyb3JDbGFzcztcbiAgICB0aGlzLl9lcnJvckNsYXNzID0gc2V0dGluZ3MuZXJyb3JDbGFzcztcblxuICAgIHRoaXMuX2Zvcm0gPSBmb3JtRWxlbWVudDtcbiAgfVxuXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsKSB7XG4gICAgY29uc3QgZXJyb3JFbCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbC5pZH0tZXJyb3JgKTtcblxuICAgIGlucHV0RWwuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xuICAgIGVycm9yRWwudGV4dENvbnRlbnQgPSBpbnB1dEVsLnZhbGlkYXRpb25NZXNzYWdlO1xuICAgIGVycm9yRWwuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvckNsYXNzKTtcbiAgfVxuXG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dEVsKSB7XG4gICAgY29uc3QgZXJyb3JFbCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbC5pZH0tZXJyb3JgKTtcblxuICAgIGlucHV0RWwuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xuICAgIGVycm9yRWwudGV4dENvbnRlbnQgPSBcIlwiO1xuICAgIGVycm9yRWwuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9lcnJvckNsYXNzKTtcbiAgfVxuXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbCkge1xuICAgIGlmICghaW5wdXRFbC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWwpO1xuICAgICAgLy8gaWYgaW5wdXQgaXMgaW52YWxpZCwgc2hvdyBlcnJvciBtZXNzYWdlXG4gICAgfVxuICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWwpO1xuICAgIC8vIGlmIGl0IGlzIHZhbGlkLCByZW1vdmUgYWxsIGVycm9yIG1lc3NhZ2VzLiBlbmFibGUgc3VibWl0IGJ1dHRvblxuICB9XG5cbiAgX2hhc0ludmFsaWRJbnB1dCgpIHtcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0RWwpID0+ICFpbnB1dEVsLnZhbGlkaXR5LnZhbGlkID09PSB0cnVlKTtcbiAgfVxuXG4gIF90b2dnbGVCdXR0b25TdGF0ZSgpIHtcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KHRoaXMuX2lucHV0TGlzdCkpIHtcbiAgICAgIC8vIGJ1dHRvbiBzaG91bGQgdW5sb2NrXG4gICAgICB0aGlzLl9idXR0b25FbC5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgICAgdGhpcy5fYnV0dG9uRWwuZGlzYWJsZWQgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBidXR0b24gc2hvdWxkIGxvY2tcblxuICAgICAgdGhpcy5fYnV0dG9uRWwuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICAgIHRoaXMuX2J1dHRvbkVsLmRpc2FibGVkID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2lucHV0TGlzdCA9IFsuLi50aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcildO1xuICAgIHRoaXMuX2J1dHRvbkVsID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcblxuICAgIHRoaXMuX2lucHV0TGlzdC5zb21lKChpbnB1dEVsKSA9PiB7XG4gICAgICBpbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoZXZ0KSA9PiB7XG4gICAgICAgIC8vIGNoZWNrIGlmIHRoZSBpbnB1dCBpcyB2YWxpZFxuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbCk7XG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cblxuICByZXNldEZvcm0oKSB7XG4gICAgdGhpcy5fZm9ybS5yZXNldCgpO1xuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRm9ybVZhbGlkYXRvcjtcbiIsImNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3RvcihcbiAgICB7IGRhdGEsIGhhbmRsZUNhcmRDbGljaywgaGFuZGxlRGVsZXRlQ2xpY2ssIGhhbmRsZUxpa2UsIHVzZXJJZCB9LFxuICAgIGNhcmRTZWxlY3RvclxuICApIHtcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xuICAgIHRoaXMuX2xpbmsgPSBkYXRhLmxpbms7XG4gICAgdGhpcy5fbGlrZXMgPSBkYXRhLmxpa2VzO1xuICAgIHRoaXMuX2F1dGhVc2VySWQgPSBkYXRhLm93bmVyLl9pZDtcbiAgICB0aGlzLl91c2VySWQgPSB1c2VySWQ7XG5cbiAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3I7XG4gICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xuICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNsaWNrID0gaGFuZGxlRGVsZXRlQ2xpY2s7XG4gICAgdGhpcy5faGFuZGxlTGlrZSA9IGhhbmRsZUxpa2U7XG4gIH1cblxuICBfZ2V0VGVtcGxhdGUoKSB7XG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBkb2N1bWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFNlbGVjdG9yKVxuICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkXCIpXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xuICAgIHJldHVybiBjYXJkRWxlbWVudDtcbiAgfVxuXG4gIF9pc0xpa2VkKCkge1xuICAgIHJldHVybiB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5jb250YWlucyhcImNhcmRfX2xpa2UtYnV0dG9uX3R5cGVfYWN0aXZlXCIpO1xuICB9XG5cbiAgX3VwZGF0ZUxpa2VzKGRhdGEpIHtcbiAgICB0aGlzLl9saWtlcyA9IGRhdGEubGlrZXM7XG4gICAgdGhpcy5fcmVuZGVyTGlrZXMoKTtcbiAgfVxuXG4gIF9yZW5kZXJMaWtlcygpIHtcbiAgICB0aGlzLl9saWtlQ291bnRlci50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzLmxlbmd0aDtcbiAgICBpZiAodGhpcy5fbGlrZXMuZmlsdGVyKCh1c2VyKSA9PiB1c2VyLl9pZCA9PT0gdGhpcy5fdXNlcklkKS5sZW5ndGggPiAwKSB7XG4gICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJjYXJkX19saWtlLWJ1dHRvbl90eXBlX2FjdGl2ZVwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwiY2FyZF9fbGlrZS1idXR0b25fdHlwZV9hY3RpdmVcIik7XG4gICAgfVxuICB9XG5cbiAgX3JlbW92ZSgpIHtcbiAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xuICAgIHRoaXMuX2VsZW1lbnQgPSBudWxsO1xuICB9XG4gIF9zZXREZWxldGVCdXR0b25WaXNpYmlsaXR5KCkge1xuICAgIGlmICh0aGlzLl91c2VySWQgPT09IHRoaXMuX2F1dGhVc2VySWQpIHtcbiAgICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbi5zdHlsZS52aWxpYmlsaXR5ID0gXCJ2aXNpYmxlXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbi5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcbiAgICB9XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fbGlrZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWJ1dHRvblwiKTtcbiAgICB0aGlzLl9saWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVMaWtlKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLl9lbGVtZW50XG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKVxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayh7IG5hbWU6IHRoaXMuX25hbWUsIGxpbms6IHRoaXMuX2xpbmsgfSk7XG4gICAgICB9KTtcbiAgICB0aGlzLl9kZWxldGVCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fZGVsZXRlLWJ1dHRvblwiKTtcbiAgICB0aGlzLl9kZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNsaWNrKCk7XG4gICAgfSk7XG4gIH1cblxuICBnZW5lcmF0ZUNhcmQoKSB7XG4gICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XG4gICAgdGhpcy5fZGVsZXRlQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2RlbGV0ZS1idXR0b25cIik7XG4gICAgdGhpcy5fbGlrZUNvdW50ZXIgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBcIi5jYXJkX19saWtlLWJ1dHRvbi1jb3VudGVyXCJcbiAgICApO1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fcmVuZGVyTGlrZXMoKTtcbiAgICB0aGlzLl9zZXREZWxldGVCdXR0b25WaXNpYmlsaXR5KCk7XG5cbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBcIi5jYXJkX19pbWFnZVwiXG4gICAgKS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKCR7dGhpcy5fbGlua30pYDtcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fdGl0bGVcIikudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENhcmQ7XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcbiAgY29uc3RydWN0b3IoeyByZW5kZXJlciB9LCBzZWxlY3Rvcikge1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5fZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICB9XG5cbiAgYWRkSXRlbShlbGVtZW50KSB7XG4gICAgLy8gdGFrZSB0aGUgaXRlbSBhbmQgcmVuZGVyIGl0IGludG8gdGhpcy5fZWxlbWVudFxuICAgIHRoaXMuX2VsZW1lbnQucHJlcGVuZChlbGVtZW50KTtcbiAgfVxuXG4gIHJlbmRlckl0ZW1zKGl0ZW1zKSB7XG4gICAgLy8gdXNlIHRoaXMuX3JlbmRlcmVyIHRvIGNyZWF0ZSB0aGUgZWxlbWVudCBmb3IgcmVuZGVyaW5nXG4gICAgaXRlbXMuZm9yRWFjaCh0aGlzLl9yZW5kZXJlcik7XG4gIH1cbn1cbiIsImNsYXNzIFBvcHVwIHtcbiAgY29uc3RydWN0b3Ioc2VsZWN0b3IpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcyk7XG4gIH1cblxuICBfaGFuZGxlRXNjQ2xvc2UoZXZ0KSB7XG4gICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCAoZXZ0KSA9PiB7XG4gICAgICBpZiAoXG4gICAgICAgIGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWxcIikgfHxcbiAgICAgICAgZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJtb2RhbF9fY2xvc2UtYnV0dG9uXCIpXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgb3BlbigpIHtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwibW9kYWxfaXMtb3BlblwiKTtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJtb2RhbF9pcy1vcGVuXCIpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBvcHVwO1xuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3RvcihzZWxlY3Rvcikge1xuICAgIHN1cGVyKHNlbGVjdG9yKTtcbiAgICB0aGlzLl9pbWFnZUVsZW1lbnQgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9faW1hZ2VcIik7XG4gICAgdGhpcy5faW1hZ2VDYXB0aW9uID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX3RpdGxlXCIpO1xuICB9XG4gIG9wZW4oZGF0YSkge1xuICAgIHN1cGVyLm9wZW4oKTtcbiAgICB0aGlzLl9pbWFnZUVsZW1lbnQuc3JjID0gZGF0YS5saW5rO1xuICAgIHRoaXMuX2ltYWdlRWxlbWVudC5hbHQgPSBgSW1hZ2Ugb2YgJHtkYXRhLmxpbmt9YDtcbiAgICB0aGlzLl9pbWFnZUNhcHRpb24udGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcbiAgY29uc3RydWN0b3IoeyBuYW1lU2VsZWN0b3IsIGFib3V0U2VsZWN0b3IsIGF2YXRhclNlbGVjdG9yIH0pIHtcbiAgICB0aGlzLl9uYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuYW1lU2VsZWN0b3IpO1xuICAgIHRoaXMuX2Fib3V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhYm91dFNlbGVjdG9yKTtcbiAgICB0aGlzLl9hdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGF2YXRhclNlbGVjdG9yKTtcbiAgfVxuXG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiB0aGlzLl9uYW1lLnRleHRDb250ZW50LFxuICAgICAgYWJvdXQ6IHRoaXMuX2Fib3V0LnRleHRDb250ZW50LFxuICAgIH07XG4gIH1cblxuICBnZXRVc2VySWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lkO1xuICB9XG5cbiAgc2V0VXNlckluZm8oeyBuYW1lLCBhYm91dCwgX2lkIH0pIHtcbiAgICB0aGlzLl9uYW1lLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB0aGlzLl9hYm91dC50ZXh0Q29udGVudCA9IGFib3V0O1xuICAgIHRoaXMuX2lkID0gX2lkO1xuICB9XG5cbiAgc2V0VXNlckF2YXRhcih7IGF2YXRhciB9KSB7XG4gICAgdGhpcy5fYXZhdGFyLnNyYyA9IGF2YXRhcjtcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHsgc2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXNzaW9uIH0pIHtcbiAgICBzdXBlcihzZWxlY3Rvcik7XG5cbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWlzc2lvbiA9IGhhbmRsZUZvcm1TdWJtaXNzaW9uO1xuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtXCIpO1xuICAgIHRoaXMuX2lucHV0TGlzdCA9IFsuLi50aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5mb3JtX19pbnB1dFwiKV07XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX3NhdmUtYnV0dG9uXCIpO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgc3VwZXIuY2xvc2UoKTtcbiAgICB0aGlzLl9mb3JtLnJlc2V0KCk7XG4gIH1cblxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XG4gICAgY29uc3QgaW5wdXRWYWx1ZXMgPSB7fTtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIGlucHV0VmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIGlucHV0VmFsdWVzO1xuICB9XG5cbiAgcmVuZGVyU2F2aW5nKGlzTG9hZGluZykge1xuICAgIGlmIChpc0xvYWRpbmcpIHtcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IFwiU2F2aW5nLi4uXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IFwiU2F2ZVwiO1xuICAgIH1cbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMucmVuZGVyU2F2aW5nKHRydWUpO1xuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pc3Npb24odGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhEZWxldGUgZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHsgaGFuZGxlRm9ybVN1Ym1pc3Npb24sIHNlbGVjdG9yIH0pIHtcbiAgICBzdXBlcihzZWxlY3Rvcik7XG5cbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWlzc2lvbiA9IGhhbmRsZUZvcm1TdWJtaXNzaW9uO1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybVwiKTtcbiAgfVxuXG4gIG9wZW4oY2FyZElELCBjYXJkKSB7XG4gICAgc3VwZXIub3BlbigpO1xuICAgIHRoaXMuX2NhcmRJZCA9IGNhcmRJRDtcbiAgICB0aGlzLl9jYXJkRWwgPSBjYXJkO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pc3Npb24odGhpcy5fY2FyZElkLCB0aGlzLl9jYXJkRWwpO1xuICAgIH0pO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xuICBjb25zdHJ1Y3Rvcih7IGJhc2VVcmwsIGhlYWRlcnMgfSkge1xuICAgIHRoaXMuX2Jhc2VVcmwgPSBiYXNlVXJsO1xuICAgIHRoaXMuX2hlYWRlcnMgPSBoZWFkZXJzO1xuICB9XG5cbiAgX2hhbmRsZVNlcnZlclJlc3BvbnNlKHJlcykge1xuICAgIHJldHVybiByZXMub2sgPyByZXMuanNvbigpIDogUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4odGhpcy5faGFuZGxlU2VydmVyUmVzcG9uc2UpO1xuICB9XG5cbiAgc2V0VXNlckluZm8oeyBuYW1lLCBhYm91dCB9KSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBuYW1lLFxuICAgICAgICBhYm91dCxcbiAgICAgIH0pLFxuICAgIH0pLnRoZW4odGhpcy5faGFuZGxlU2VydmVyUmVzcG9uc2UpO1xuICB9XG5cbiAgdXBkYXRlUHJvZmlsZVBpY3R1cmUoeyBhdmF0YXIgfSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIGF2YXRhcixcbiAgICAgIH0pLFxuICAgIH0pLnRoZW4odGhpcy5faGFuZGxlU2VydmVyUmVzcG9uc2UpO1xuICB9XG5cbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSkudGhlbih0aGlzLl9oYW5kbGVTZXJ2ZXJSZXNwb25zZSk7XG4gIH1cblxuICBhZGRDYXJkKHsgbmFtZSwgbGluayB9KSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWUsXG4gICAgICAgIGxpbmssXG4gICAgICB9KSxcbiAgICB9KS50aGVuKHRoaXMuX2hhbmRsZVNlcnZlclJlc3BvbnNlKTtcbiAgfVxuXG4gIHJlbW92ZUNhcmQoY2FyZElEKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElEfWAsIHtcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSkudGhlbih0aGlzLl9oYW5kbGVTZXJ2ZXJSZXNwb25zZSk7XG4gIH1cblxuICBhZGRMaWtlKGNhcmRJZCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy9saWtlcy8ke2NhcmRJZH1gLCB7XG4gICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4odGhpcy5faGFuZGxlU2VydmVyUmVzcG9uc2UpO1xuICB9XG5cbiAgcmVtb3ZlTGlrZShjYXJkSWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvbGlrZXMvJHtjYXJkSWR9YCwge1xuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKHRoaXMuX2hhbmRsZVNlcnZlclJlc3BvbnNlKTtcbiAgfVxufVxuIiwiaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcbmltcG9ydCB7IHNlbGVjdG9ycywgdmFsaWRhdGlvblNldHRpbmdzIH0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xuaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcbmltcG9ydCBQb3B1cFdpdGhEZWxldGUgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRGVsZXRlLmpzXCI7XG5pbXBvcnQgQXBpIGZyb20gXCIuLi91dGlscy9BcGkuanNcIjtcblxuLy9jb25zdGFudHNcbmNvbnN0IGFkZE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF90eXBlX2FkZFwiKTtcbmNvbnN0IGVkaXRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfdHlwZV9lZGl0XCIpO1xuY29uc3QgZWRpdEF2YXRhck1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF90eXBlX2F2YXRhci1lZGl0XCIpO1xuXG5jb25zdCBlZGl0Rm9ybSA9IGVkaXRNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1cIik7XG5cbi8vIFZhbGlkYXRpb25cbmNvbnN0IGFkZEZvcm1FbCA9IGFkZE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybVwiKTtcbmNvbnN0IGVkaXRGb3JtRWwgPSBlZGl0TW9kYWwucXVlcnlTZWxlY3RvcihcIi5mb3JtXCIpO1xuY29uc3QgZWRpdEF2YXRhckZvcm1FbCA9IGVkaXRBdmF0YXJNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1cIik7XG5cbi8vIEJ1dHRvbnNcbmNvbnN0IGVkaXRQcm9maWxlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0LWJ1dHRvblwiKTtcbmNvbnN0IGVkaXRQcm9maWxlQ2xvc2VCdXR0b24gPSBlZGl0TW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fY2xvc2UtYnV0dG9uXCIpO1xuY29uc3QgZWRpdEF2YXRhckJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYXZhdGFyLWJ1dHRvblwiKTtcbmNvbnN0IGVkaXRBdmF0YXJDbG9zZUJ1dHRvbiA9IGVkaXRBdmF0YXJNb2RhbC5xdWVyeVNlbGVjdG9yKFxuICBcIi5tb2RhbF9fY2xvc2UtYnV0dG9uXCJcbik7XG5jb25zdCBwcm9maWxlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fbmFtZVwiKTtcbmNvbnN0IHByb2ZpbGVBYm91dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWJvdXRcIik7XG5cbmNvbnN0IGFkZENhcmRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2FkZC1idXR0b25cIik7XG5jb25zdCBhZGRNb2RhbENsb3NlQnV0dG9uID0gYWRkTW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fY2xvc2UtYnV0dG9uXCIpO1xuY29uc3QgcHJldmlld01vZGFsQ2xvc2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jbG9zZS1idXR0b25cIik7XG5cbi8vRnVuY3Rpb25zXG5mdW5jdGlvbiBwcmVmaWxsRWRpdEZvcm0obW9kYWxXaW5kb3cpIHtcbiAgbmFtZUlucHV0LnZhbHVlID0gcHJvZmlsZU5hbWUudGV4dENvbnRlbnQ7XG4gIGFib3V0SW5wdXQudmFsdWUgPSBwcm9maWxlQWJvdXQudGV4dENvbnRlbnQ7XG59XG5cbi8vIEZvcm0gZGF0YVxuY29uc3QgbmFtZUlucHV0ID0gZWRpdEZvcm0ucXVlcnlTZWxlY3RvcihcIi5mb3JtX19pbnB1dF90eXBlX25hbWVcIik7XG5jb25zdCBhYm91dElucHV0ID0gZWRpdEZvcm0ucXVlcnlTZWxlY3RvcihcIi5mb3JtX19pbnB1dF90eXBlX2Fib3V0XCIpO1xuXG4vLyBDcmVhdGUgaW5zdGFuY2VzIG9mIHRoZSBjbGFzc2VzXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcbiAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL2dyb3VwLTEyXCIsXG4gIGhlYWRlcnM6IHtcbiAgICBhdXRob3JpemF0aW9uOiBcIjQ5MjFkMTcyLWU0N2QtNDc3ZC1iY2ViLWNmZGFlMjIwZDUyZVwiLFxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICB9LFxufSk7XG5cbmNvbnN0IHVzZXJEYXRhID0gbmV3IFVzZXJJbmZvKHtcbiAgbmFtZVNlbGVjdG9yOiBcIi5wcm9maWxlX19uYW1lXCIsXG4gIGFib3V0U2VsZWN0b3I6IFwiLnByb2ZpbGVfX2Fib3V0XCIsXG4gIGF2YXRhclNlbGVjdG9yOiBcIi5wcm9maWxlX19pbWFnZVwiLFxufSk7XG5cbmNvbnN0IGNhcmRTZWN0aW9uID0gbmV3IFNlY3Rpb24oXG4gIHtcbiAgICByZW5kZXJlcjogKGl0ZW0pID0+IHtcbiAgICAgIGNhcmRTZWN0aW9uLmFkZEl0ZW0oY3JlYXRlQ2FyZChpdGVtKSk7XG4gICAgfSxcbiAgfSxcbiAgc2VsZWN0b3JzLmNhcmRTZWN0aW9uXG4pO1xuXG5Qcm9taXNlLmFsbChbYXBpLmdldFVzZXJJbmZvKCksIGFwaS5nZXRJbml0aWFsQ2FyZHMoKV0pXG4gIC50aGVuKChbdXNlckluZm8sIGluaXRpYWxDYXJkc10pID0+IHtcbiAgICBjb25zdCB7IG5hbWUsIGFib3V0LCBhdmF0YXIsIF9pZCB9ID0gdXNlckluZm87XG4gICAgdXNlckRhdGEuc2V0VXNlckluZm8oe1xuICAgICAgbmFtZTogbmFtZSxcbiAgICAgIGFib3V0OiBhYm91dCxcbiAgICAgIF9pZDogX2lkLFxuICAgIH0pO1xuICAgIHVzZXJEYXRhLnNldFVzZXJBdmF0YXIoe1xuICAgICAgYXZhdGFyOiBhdmF0YXIsXG4gICAgfSk7XG4gICAgY2FyZFNlY3Rpb24ucmVuZGVySXRlbXMoaW5pdGlhbENhcmRzKTtcbiAgfSlcbiAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoYCR7ZXJyfWApKTtcblxuZnVuY3Rpb24gY3JlYXRlQ2FyZChpdGVtKSB7XG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChcbiAgICB7XG4gICAgICBkYXRhOiBpdGVtLFxuICAgICAgaGFuZGxlQ2FyZENsaWNrOiAoZGF0YSkgPT4gY2FyZFByZXZpZXdQb3B1cC5vcGVuKGRhdGEpLFxuICAgICAgdXNlcklkOiB1c2VyRGF0YS5nZXRVc2VySWQoKSxcbiAgICAgIGhhbmRsZURlbGV0ZUNsaWNrOiBmdW5jdGlvbiBoYW5kbGVEZWxldGVDbGljaygpIHtcbiAgICAgICAgZGVsZXRlUG9wdXAub3BlbihpdGVtLl9pZCwgY2FyZCk7XG4gICAgICB9LFxuICAgICAgaGFuZGxlTGlrZTogZnVuY3Rpb24gaGFuZGxlTGlrZSgpIHtcbiAgICAgICAgaWYgKGNhcmQuX2lzTGlrZWQoKSkge1xuICAgICAgICAgIGFwaVxuICAgICAgICAgICAgLnJlbW92ZUxpa2UoaXRlbS5faWQpXG4gICAgICAgICAgICAudGhlbigoZGF0YSkgPT4gY2FyZC5fdXBkYXRlTGlrZXMoZGF0YSkpXG4gICAgICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihgJHtlcnJ9YCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFwaVxuICAgICAgICAgICAgLmFkZExpa2UoaXRlbS5faWQpXG4gICAgICAgICAgICAudGhlbigoZGF0YSkgPT4gY2FyZC5fdXBkYXRlTGlrZXMoZGF0YSkpXG4gICAgICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihgJHtlcnJ9YCkpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgIH0sXG4gICAgc2VsZWN0b3JzLmNhcmRUZW1wbGF0ZVxuICApO1xuICByZXR1cm4gY2FyZC5nZW5lcmF0ZUNhcmQoKTtcbn1cblxuY29uc3QgY2FyZFByZXZpZXdQb3B1cCA9IG5ldyBQb3B1cFdpdGhJbWFnZShzZWxlY3RvcnMucHJldmlld1BvcHVwKTtcblxuY29uc3QgZWRpdFBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xuICBzZWxlY3Rvcjogc2VsZWN0b3JzLnByb2ZpbGVNb2RhbFNlbGVjdG9yLFxuICBoYW5kbGVGb3JtU3VibWlzc2lvbjogKGRhdGEpID0+IHtcbiAgICBhcGlcbiAgICAgIC5zZXRVc2VySW5mbyhkYXRhKVxuICAgICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgdXNlckRhdGEuc2V0VXNlckluZm8oe1xuICAgICAgICAgIG5hbWU6IGRhdGEubmFtZSxcbiAgICAgICAgICBhYm91dDogZGF0YS5hYm91dCxcbiAgICAgICAgICBpZDogZGF0YS5faWQsXG4gICAgICAgIH0pO1xuICAgICAgICBlZGl0UG9wdXAuY2xvc2UoKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKGAke2Vycn1gKTtcbiAgICAgIH0pXG4gICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgIGVkaXRQb3B1cC5yZW5kZXJTYXZpbmcoZmFsc2UpO1xuICAgICAgfSk7XG4gIH0sXG59KTtcblxuY29uc3QgYWRkUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybSh7XG4gIHNlbGVjdG9yOiBzZWxlY3RvcnMuYWRkTW9kYWxTZWxlY3RvcixcbiAgaGFuZGxlRm9ybVN1Ym1pc3Npb246IChpdGVtKSA9PiB7XG4gICAgYXBpXG4gICAgICAuYWRkQ2FyZChpdGVtKVxuICAgICAgLnRoZW4oKGl0ZW0pID0+IHtcbiAgICAgICAgY2FyZFNlY3Rpb24uYWRkSXRlbShjcmVhdGVDYXJkKGl0ZW0pKTtcbiAgICAgIH0pXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIGFkZFBvcHVwLmNsb3NlKCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgJHtlcnJ9YCk7XG4gICAgICB9KVxuICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICBhZGRQb3B1cC5yZW5kZXJTYXZpbmcoZmFsc2UpO1xuICAgICAgfSk7XG4gIH0sXG59KTtcblxuY29uc3QgZGVsZXRlUG9wdXAgPSBuZXcgUG9wdXBXaXRoRGVsZXRlKHtcbiAgc2VsZWN0b3I6IHNlbGVjdG9ycy5kZWxldGVQb3B1cFNlbGVjdG9yLFxuICBoYW5kbGVGb3JtU3VibWlzc2lvbjogKGNhcmRJRCwgY2FyZCkgPT4ge1xuICAgIGFwaVxuICAgICAgLnJlbW92ZUNhcmQoY2FyZElEKVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBjYXJkLl9yZW1vdmUoKTtcbiAgICAgICAgZGVsZXRlUG9wdXAuY2xvc2UoKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihgJHtlcnJ9YCkpXG4gICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgIC8vIGRlbGV0ZVBvcHVwLnJlbmRlclNhdmluZyhmYWxzZSk7XG4gICAgICB9KTtcbiAgfSxcbn0pO1xuXG5jb25zdCBhdmF0YXJQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcbiAgc2VsZWN0b3I6IHNlbGVjdG9ycy5hdmF0YXJTZWxlY3RvcixcbiAgaGFuZGxlRm9ybVN1Ym1pc3Npb246IChkYXRhKSA9PiB7XG4gICAgYXBpXG4gICAgICAudXBkYXRlUHJvZmlsZVBpY3R1cmUoZGF0YSlcbiAgICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgIHVzZXJEYXRhLnNldFVzZXJBdmF0YXIoe1xuICAgICAgICAgIGF2YXRhcjogZGF0YS5hdmF0YXIsXG4gICAgICAgIH0pO1xuICAgICAgICBhdmF0YXJQb3B1cC5jbG9zZSgpO1xuICAgICAgfSlcblxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgJHtlcnJ9YCk7XG4gICAgICB9KVxuICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICBhdmF0YXJQb3B1cC5yZW5kZXJTYXZpbmcoZmFsc2UpO1xuICAgICAgfSk7XG4gIH0sXG59KTtcblxuY29uc3QgYWRkRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25TZXR0aW5ncywgYWRkRm9ybUVsKTtcbmFkZEZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuXG5jb25zdCBlZGl0Rm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25TZXR0aW5ncywgZWRpdEZvcm1FbCk7XG5lZGl0Rm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbmNvbnN0IGF2YXRhckZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihcbiAgdmFsaWRhdGlvblNldHRpbmdzLFxuICBlZGl0QXZhdGFyRm9ybUVsXG4pO1xuYXZhdGFyRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbi8vIGluaXRpYWxpemUgaW5zdGFuY2VzIG9mIHRoZSBjbGFzc2VzXG5jYXJkUHJldmlld1BvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmVkaXRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuYWRkUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbmF2YXRhclBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5kZWxldGVQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vLyBhbGwgdGhlIHJlc3RcbmVkaXRQcm9maWxlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIHByZWZpbGxFZGl0Rm9ybShlZGl0TW9kYWwpO1xuICBlZGl0UG9wdXAub3BlbigpO1xufSk7XG5lZGl0UHJvZmlsZUNsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiBlZGl0UG9wdXAuY2xvc2UoKSk7XG5cbmVkaXRBdmF0YXJCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgYXZhdGFyRm9ybVZhbGlkYXRvci5yZXNldEZvcm0oKTtcbiAgYXZhdGFyUG9wdXAub3BlbigpO1xufSk7XG5lZGl0QXZhdGFyQ2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgYXZhdGFyUG9wdXAuY2xvc2UoKTtcbn0pO1xuXG5hZGRDYXJkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGFkZEZvcm1WYWxpZGF0b3IucmVzZXRGb3JtKCk7XG4gIGFkZFBvcHVwLm9wZW4oKTtcbn0pO1xuYWRkTW9kYWxDbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gYWRkUG9wdXAuY2xvc2UoKSk7XG5cbnByZXZpZXdNb2RhbENsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PlxuICBjYXJkUHJldmlld1BvcHVwLmNsb3NlKClcbik7XG4iXSwibmFtZXMiOlsidmFsaWRhdGlvblNldHRpbmdzIiwiaW5wdXRTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJGb3JtVmFsaWRhdG9yIiwic2V0dGluZ3MiLCJmb3JtRWxlbWVudCIsInRoaXMiLCJfaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX2lucHV0RXJyb3JDbGFzcyIsIl9lcnJvckNsYXNzIiwiX2Zvcm0iLCJpbnB1dEVsIiwiZXJyb3JFbCIsInF1ZXJ5U2VsZWN0b3IiLCJpZCIsImNsYXNzTGlzdCIsImFkZCIsInRleHRDb250ZW50IiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJyZW1vdmUiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX3Nob3dJbnB1dEVycm9yIiwiX2hpZGVJbnB1dEVycm9yIiwiX2lucHV0TGlzdCIsInNvbWUiLCJfaGFzSW52YWxpZElucHV0IiwiX2J1dHRvbkVsIiwiZGlzYWJsZWQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2dCIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJwcmV2ZW50RGVmYXVsdCIsIl9zZXRFdmVudExpc3RlbmVycyIsInJlc2V0IiwiQ2FyZCIsImNhcmRTZWxlY3RvciIsImRhdGEiLCJoYW5kbGVDYXJkQ2xpY2siLCJoYW5kbGVEZWxldGVDbGljayIsImhhbmRsZUxpa2UiLCJ1c2VySWQiLCJfbmFtZSIsIm5hbWUiLCJfbGluayIsImxpbmsiLCJfbGlrZXMiLCJsaWtlcyIsIl9hdXRoVXNlcklkIiwib3duZXIiLCJfaWQiLCJfdXNlcklkIiwiX2NhcmRTZWxlY3RvciIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfaGFuZGxlRGVsZXRlQ2xpY2siLCJfaGFuZGxlTGlrZSIsImRvY3VtZW50IiwiY29udGVudCIsImNsb25lTm9kZSIsIl9saWtlQnV0dG9uIiwiY29udGFpbnMiLCJfcmVuZGVyTGlrZXMiLCJfbGlrZUNvdW50ZXIiLCJsZW5ndGgiLCJmaWx0ZXIiLCJ1c2VyIiwiX2VsZW1lbnQiLCJfZGVsZXRlQnV0dG9uIiwic3R5bGUiLCJ2aWxpYmlsaXR5IiwidmlzaWJpbGl0eSIsIl9nZXRUZW1wbGF0ZSIsIl9zZXREZWxldGVCdXR0b25WaXNpYmlsaXR5IiwiYmFja2dyb3VuZEltYWdlIiwiU2VjdGlvbiIsInNlbGVjdG9yIiwicmVuZGVyZXIiLCJfcmVuZGVyZXIiLCJlbGVtZW50IiwicHJlcGVuZCIsIml0ZW1zIiwiZm9yRWFjaCIsIlBvcHVwIiwiX3BvcHVwRWxlbWVudCIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJrZXkiLCJjbG9zZSIsInRhcmdldCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJQb3B1cFdpdGhJbWFnZSIsIl9pbWFnZUVsZW1lbnQiLCJfaW1hZ2VDYXB0aW9uIiwic3JjIiwiYWx0IiwiVXNlckluZm8iLCJuYW1lU2VsZWN0b3IiLCJhYm91dFNlbGVjdG9yIiwiYXZhdGFyU2VsZWN0b3IiLCJfYWJvdXQiLCJfYXZhdGFyIiwiYWJvdXQiLCJhdmF0YXIiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlRm9ybVN1Ym1pc3Npb24iLCJfaGFuZGxlRm9ybVN1Ym1pc3Npb24iLCJfc3VibWl0QnV0dG9uIiwiaW5wdXRWYWx1ZXMiLCJpbnB1dCIsInZhbHVlIiwiaXNMb2FkaW5nIiwiZSIsInJlbmRlclNhdmluZyIsIl9nZXRJbnB1dFZhbHVlcyIsIlBvcHVwV2l0aERlbGV0ZSIsIl9mb3JtRWxlbWVudCIsImNhcmRJRCIsImNhcmQiLCJfY2FyZElkIiwiX2NhcmRFbCIsIkFwaSIsImJhc2VVcmwiLCJoZWFkZXJzIiwiX2Jhc2VVcmwiLCJfaGVhZGVycyIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJmZXRjaCIsInRoZW4iLCJfaGFuZGxlU2VydmVyUmVzcG9uc2UiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImNhcmRJZCIsImFkZE1vZGFsIiwiZWRpdE1vZGFsIiwiZWRpdEF2YXRhck1vZGFsIiwiZWRpdEZvcm0iLCJhZGRGb3JtRWwiLCJlZGl0Rm9ybUVsIiwiZWRpdEF2YXRhckZvcm1FbCIsImVkaXRQcm9maWxlQnV0dG9uIiwiZWRpdFByb2ZpbGVDbG9zZUJ1dHRvbiIsImVkaXRBdmF0YXJCdXR0b24iLCJlZGl0QXZhdGFyQ2xvc2VCdXR0b24iLCJwcm9maWxlTmFtZSIsInByb2ZpbGVBYm91dCIsImFkZENhcmRCdXR0b24iLCJhZGRNb2RhbENsb3NlQnV0dG9uIiwicHJldmlld01vZGFsQ2xvc2VCdXR0b24iLCJuYW1lSW5wdXQiLCJhYm91dElucHV0IiwiYXBpIiwiYXV0aG9yaXphdGlvbiIsInVzZXJEYXRhIiwiY2FyZFNlY3Rpb24iLCJpdGVtIiwiYWRkSXRlbSIsImNyZWF0ZUNhcmQiLCJjYXJkUHJldmlld1BvcHVwIiwib3BlbiIsImdldFVzZXJJZCIsImRlbGV0ZVBvcHVwIiwiX2lzTGlrZWQiLCJyZW1vdmVMaWtlIiwiX3VwZGF0ZUxpa2VzIiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwiZXJyb3IiLCJhZGRMaWtlIiwiZ2VuZXJhdGVDYXJkIiwiYWxsIiwiZ2V0VXNlckluZm8iLCJnZXRJbml0aWFsQ2FyZHMiLCJ1c2VySW5mbyIsImluaXRpYWxDYXJkcyIsInNldFVzZXJJbmZvIiwic2V0VXNlckF2YXRhciIsInJlbmRlckl0ZW1zIiwiZWRpdFBvcHVwIiwiZmluYWxseSIsImFkZFBvcHVwIiwiYWRkQ2FyZCIsInJlbW92ZUNhcmQiLCJfcmVtb3ZlIiwiYXZhdGFyUG9wdXAiLCJ1cGRhdGVQcm9maWxlUGljdHVyZSIsImFkZEZvcm1WYWxpZGF0b3IiLCJlbmFibGVWYWxpZGF0aW9uIiwiYXZhdGFyRm9ybVZhbGlkYXRvciIsInNldEV2ZW50TGlzdGVuZXJzIiwicmVzZXRGb3JtIl0sInNvdXJjZVJvb3QiOiIifQ==